# 3. Задачи

## 1

Пропускная способность $C = \frac{3W}{4\text{RTT}} \Rightarrow \text{RTT} = \frac{3W}{4C} \Rightarrow T \sim \frac{3W}{4C} \Rightarrow T$ - функция от $C$.

## 2

### а)

В начале потребуется RTT на установление соединения. После этого потребуется S/R + RTT на отправку первого сегмента. После этого потребуется ещё S/R + RTT на отправку 2-го и 3-го сегментов и получения ответа от 2-го, так как S/R + RTT > 2SR. После получения ответа отправятся ещё 2 сегмента, и пока они будут отправляться, придёт ответ от 3-го отправленного сегмента, так как RTT - S/R + 2SR = RTT + S/R > RTT. Значит сразу за 4-м и 5-м сегментами отправятся ещё 2. Пока они будут отправляться, придёт ответ от 4-го сегмента, так как 4S/R > S/R + RTT, и отправятся ещё 2 сегмента. Далее оставшиеся сегменты будут отправлены подряд, и в конце ещё потребуется подождать ответ от 15-го сегмента. Таким образом, общее время составит RTT + (S/R + RTT) + (S/R + RTT) + 12S/R + RTT = 14S/R + 4RTT.

### б)

В отличии от пункта (а), 6-й и 7-й сегменты будут отправлены быстрее, чем придёт ответ от 4-го, так как S/R + RTT > 4S/R. Поэтому от начала отправки 4-го сегмента до начала отправки 8-го и 9-го сегментов придётся ждать S/R + RTT, а не 4SR. Далее все сегменты будут отправлены подряд, поэтому общее время составит RTT + (S/R + RTT) + (S/R + RTT) + (S/R + RTT) + 8S/R + RTT = 11S/R + 5RTT.

### в)

В отличии от пункта (а), ответ от 2-го сегмента придёт раньше, чем отправится 3-й, так как S/R > RTT. После этого все сегменты будут отправлены подряд, поэтому общее время составит RTT + (S/R + RTT) + 14S/R + RTT = 15S/R + 3RTT.

## 3

До одной потери будет отправлено $\frac{W}{2} + (1 + \alpha)\frac{W}{2} + (1 + \alpha)^2\frac{W}{2} + \dots + 2\frac{W}{2} = \frac{(2 \alpha + 1) W}{2 \alpha}$ байт $\Rightarrow L = \frac{2 \alpha}{(2 \alpha + 1) W}$.

## 4

Потребуется 4 запроса к внешнему серверу (1 для установления соединения, плюс 3 для 3-х окон), которые займут 4RTT\_FE. Так как внешний сервер имеет постоянное соединение с дата-центром с большим окном перегрузки, то от внешнего сервера до дата-центра потребуется только 1 запрос, который займёт RTT\_BE. Также потребуется потратить время на обработку, суммарно получается 4RTT\_FE + RTT\_BE + время обработки.
